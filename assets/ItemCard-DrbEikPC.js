import{c as xe,r as l,j as a,R as he,d as _,u as ge}from"./index-CxpONpDo.js";import{a as Y}from"./techItems-kA36OMbu.js";xe();function q(e,[t,n]){return Math.min(n,Math.max(t,e))}function M(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function X(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function G(...e){return t=>{let n=!1;const r=e.map(o=>{const c=X(o,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():X(e[o],null)}}}}function P(...e){return l.useCallback(G(...e),e)}function Z(e,t=[]){let n=[];function r(c,s){const i=l.createContext(s),d=n.length;n=[...n,s];const m=u=>{var g;const{scope:f,children:S,...y}=u,h=((g=f==null?void 0:f[e])==null?void 0:g[d])||i,x=l.useMemo(()=>y,Object.values(y));return a.jsx(h.Provider,{value:x,children:S})};m.displayName=c+"Provider";function p(u,f){var h;const S=((h=f==null?void 0:f[e])==null?void 0:h[d])||i,y=l.useContext(S);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${c}\``)}return[m,p]}const o=()=>{const c=n.map(s=>l.createContext(s));return function(i){const d=(i==null?void 0:i[e])||c;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[r,ve(o,...t)]}function ve(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const s=r.reduce((i,{useScope:d,scopeName:m})=>{const u=d(c)[`__scope${m}`];return{...i,...u}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var J=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},Se=he[" useInsertionEffect ".trim().toString()]||J;function be({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,c,s]=ye({defaultProp:t,onChange:n}),i=e!==void 0,d=i?e:o;{const p=l.useRef(e!==void 0);l.useEffect(()=>{const u=p.current;u!==i&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=i},[i,r])}const m=l.useCallback(p=>{var u;if(i){const f=we(p)?p(e):p;f!==e&&((u=s.current)==null||u.call(s,f))}else c(p)},[i,e,c,s]);return[d,m]}function ye({defaultProp:e,onChange:t}){const[n,r]=l.useState(e),o=l.useRef(n),c=l.useRef(t);return Se(()=>{c.current=t},[t]),l.useEffect(()=>{var s;o.current!==n&&((s=c.current)==null||s.call(c,n),o.current=n)},[n,o]),[n,r,c]}function we(e){return typeof e=="function"}var Ce=l.createContext(void 0);function Re(e){const t=l.useContext(Ce);return e||t||"ltr"}function je(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Pe(e){const[t,n]=l.useState(void 0);return J(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let s,i;if("borderBoxSize"in c){const d=c.borderBoxSize,m=Array.isArray(d)?d[0]:d;s=m.inlineSize,i=m.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function $(e){const t=Ne(e),n=l.forwardRef((r,o)=>{const{children:c,...s}=r,i=l.Children.toArray(c),d=i.find(_e);if(d){const m=d.props.children,p=i.map(u=>u===d?l.Children.count(m)>1?l.Children.only(null):l.isValidElement(m)?m.props.children:null:u);return a.jsx(t,{...s,ref:o,children:l.isValidElement(m)?l.cloneElement(m,void 0,p):null})}return a.jsx(t,{...s,ref:o,children:c})});return n.displayName=`${e}.Slot`,n}function Ne(e){const t=l.forwardRef((n,r)=>{const{children:o,...c}=n;if(l.isValidElement(o)){const s=Ie(o),i=De(c,o.props);return o.type!==l.Fragment&&(i.ref=r?G(r,s):s),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ee=Symbol("radix.slottable");function _e(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ee}function De(e,t){const n={...t};for(const r in t){const o=e[r],c=t[r];/^on[A-Z]/.test(r)?o&&c?n[r]=(...i)=>{const d=c(...i);return o(...i),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...c}:r==="className"&&(n[r]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function Ie(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Me=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O=Me.reduce((e,t)=>{const n=$(`Primitive.${t}`),r=l.forwardRef((o,c)=>{const{asChild:s,...i}=o,d=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...i,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ae(e){const t=e+"CollectionProvider",[n,r]=Z(t),[o,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:x,children:g}=h,w=_.useRef(null),b=_.useRef(new Map).current;return a.jsx(o,{scope:x,itemMap:b,collectionRef:w,children:g})};s.displayName=t;const i=e+"CollectionSlot",d=$(i),m=_.forwardRef((h,x)=>{const{scope:g,children:w}=h,b=c(i,g),v=P(x,b.collectionRef);return a.jsx(d,{ref:v,children:w})});m.displayName=i;const p=e+"CollectionItemSlot",u="data-radix-collection-item",f=$(p),S=_.forwardRef((h,x)=>{const{scope:g,children:w,...b}=h,v=_.useRef(null),R=P(x,v),j=c(p,g);return _.useEffect(()=>(j.itemMap.set(v,{ref:v,...b}),()=>void j.itemMap.delete(v))),a.jsx(f,{[u]:"",ref:R,children:w})});S.displayName=p;function y(h){const x=c(e+"CollectionConsumer",h);return _.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((j,T)=>b.indexOf(j.ref.current)-b.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:m,ItemSlot:S},y,r]}var Q=["PageUp","PageDown"],ee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],te={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},A="Slider",[K,Te,Ve]=Ae(A),[ne,Je]=Z(A,[Ve]),[ke,z]=ne(A),oe=l.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:c=1,orientation:s="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[r],value:p,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:S=!1,form:y,...h}=e,x=l.useRef(new Set),g=l.useRef(0),b=s==="horizontal"?Oe:ze,[v=[],R]=be({prop:p,defaultProp:m,onChange:C=>{var D;(D=[...x.current][g.current])==null||D.focus(),u(C)}}),j=l.useRef(v);function T(C){const N=Fe(v,C);V(C,N)}function me(C){V(C,g.current)}function pe(){const C=j.current[g.current];v[g.current]!==C&&f(v)}function V(C,N,{commit:D}={commit:!1}){const H=Ye(c),B=Xe(Math.round((C-r)/c)*c+r,H),k=q(B,[r,o]);R((I=[])=>{const E=Ke(I,k,N);if(We(E,d*c)){g.current=E.indexOf(k);const W=String(E)!==String(I);return W&&D&&f(E),W?E:I}else return I})}return a.jsx(ke,{scope:e.__scopeSlider,name:n,disabled:i,min:r,max:o,valueIndexToChangeRef:g,thumbs:x.current,values:v,orientation:s,form:y,children:a.jsx(K.Provider,{scope:e.__scopeSlider,children:a.jsx(K.Slot,{scope:e.__scopeSlider,children:a.jsx(b,{"aria-disabled":i,"data-disabled":i?"":void 0,...h,ref:t,onPointerDown:M(h.onPointerDown,()=>{i||(j.current=v)}),min:r,max:o,inverted:S,onSlideStart:i?void 0:T,onSlideMove:i?void 0:me,onSlideEnd:i?void 0:pe,onHomeKeyDown:()=>!i&&V(r,0,{commit:!0}),onEndKeyDown:()=>!i&&V(o,v.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:N})=>{if(!i){const B=Q.includes(C.key)||C.shiftKey&&ee.includes(C.key)?10:1,k=g.current,I=v[k],E=c*B*N;V(I+E,k,{commit:!0})}}})})})})});oe.displayName=A;var[re,se]=ne(A,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Oe=l.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:c,onSlideStart:s,onSlideMove:i,onSlideEnd:d,onStepKeyDown:m,...p}=e,[u,f]=l.useState(null),S=P(t,b=>f(b)),y=l.useRef(void 0),h=Re(o),x=h==="ltr",g=x&&!c||!x&&c;function w(b){const v=y.current||u.getBoundingClientRect(),R=[0,v.width],T=U(R,g?[n,r]:[r,n]);return y.current=v,T(b-v.left)}return a.jsx(re,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:a.jsx(ie,{dir:h,"data-orientation":"horizontal",...p,ref:S,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const v=w(b.clientX);s==null||s(v)},onSlideMove:b=>{const v=w(b.clientX);i==null||i(v)},onSlideEnd:()=>{y.current=void 0,d==null||d()},onStepKeyDown:b=>{const R=te[g?"from-left":"from-right"].includes(b.key);m==null||m({event:b,direction:R?-1:1})}})})}),ze=l.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:c,onSlideMove:s,onSlideEnd:i,onStepKeyDown:d,...m}=e,p=l.useRef(null),u=P(t,p),f=l.useRef(void 0),S=!o;function y(h){const x=f.current||p.current.getBoundingClientRect(),g=[0,x.height],b=U(g,S?[r,n]:[n,r]);return f.current=x,b(h-x.top)}return a.jsx(re,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:a.jsx(ie,{"data-orientation":"vertical",...m,ref:u,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const x=y(h.clientY);c==null||c(x)},onSlideMove:h=>{const x=y(h.clientY);s==null||s(x)},onSlideEnd:()=>{f.current=void 0,i==null||i()},onStepKeyDown:h=>{const g=te[S?"from-bottom":"from-top"].includes(h.key);d==null||d({event:h,direction:g?-1:1})}})})}),ie=l.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:c,onHomeKeyDown:s,onEndKeyDown:i,onStepKeyDown:d,...m}=e,p=z(A,n);return a.jsx(O.span,{...m,ref:t,onKeyDown:M(e.onKeyDown,u=>{u.key==="Home"?(s(u),u.preventDefault()):u.key==="End"?(i(u),u.preventDefault()):Q.concat(ee).includes(u.key)&&(d(u),u.preventDefault())}),onPointerDown:M(e.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),p.thumbs.has(f)?f.focus():r(u)}),onPointerMove:M(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:M(e.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),c(u))})})}),ce="SliderTrack",ae=l.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=z(ce,n);return a.jsx(O.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});ae.displayName=ce;var L="SliderRange",le=l.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=z(L,n),c=se(L,n),s=l.useRef(null),i=P(t,s),d=o.values.length,m=o.values.map(f=>fe(f,o.min,o.max)),p=d>1?Math.min(...m):0,u=100-Math.max(...m);return a.jsx(O.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:i,style:{...e.style,[c.startEdge]:p+"%",[c.endEdge]:u+"%"}})});le.displayName=L;var F="SliderThumb",ue=l.forwardRef((e,t)=>{const n=Te(e.__scopeSlider),[r,o]=l.useState(null),c=P(t,i=>o(i)),s=l.useMemo(()=>r?n().findIndex(i=>i.ref.current===r):-1,[n,r]);return a.jsx(Be,{...e,ref:c,index:s})}),Be=l.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...c}=e,s=z(F,n),i=se(F,n),[d,m]=l.useState(null),p=P(t,w=>m(w)),u=d?s.form||!!d.closest("form"):!0,f=Pe(d),S=s.values[r],y=S===void 0?0:fe(S,s.min,s.max),h=Le(r,s.values.length),x=f==null?void 0:f[i.size],g=x?Ue(x,y,i.direction):0;return l.useEffect(()=>{if(d)return s.thumbs.add(d),()=>{s.thumbs.delete(d)}},[d,s.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${y}% + ${g}px)`},children:[a.jsx(K.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(O.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":s.min,"aria-valuenow":S,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...c,ref:p,style:S===void 0?{display:"none"}:e.style,onFocus:M(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),u&&a.jsx(de,{name:o??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:S},r)]})});ue.displayName=F;var $e="RadioBubbleInput",de=l.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=l.useRef(null),c=P(o,r),s=je(t);return l.useEffect(()=>{const i=o.current;if(!i)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==t&&p){const u=new Event("input",{bubbles:!0});p.call(i,t),i.dispatchEvent(u)}},[s,t]),a.jsx(O.input,{style:{display:"none"},...n,ref:c,defaultValue:t})});de.displayName=$e;function Ke(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,c)=>o-c)}function fe(e,t,n){const c=100/(n-t)*(e-t);return q(c,[0,100])}function Le(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Fe(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function Ue(e,t,n){const r=e/2,c=U([0,50],[0,r]);return(r-c(t)*n)*n}function He(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function We(e,t){if(t>0){const n=He(e);return Math.min(...n)>=t}return!0}function U(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ye(e){return(String(e).split(".")[1]||"").length}function Xe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Qe=oe,et=ae,tt=le,nt=ue;function qe(e){return Object.keys(Y).find(t=>Y[t]===e)}const ot=({item:e,showModal:t})=>{const n=ge();return a.jsxs("div",{className:"bg-[#DFFFEE] rounded-2xl overflow-hidden shadow-lg transition-transform hover:scale-[1.02]",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:e.tag&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium
              ${e.tag==="Новинка"?"bg-emerald-500 text-white":e.tag==="Акция"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,children:e.tag})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h3",{className:"text-lg font-bold",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.category[0]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Масса, кг:"}),a.jsx("span",{className:"font-medium",children:e.specifications["Масса, кг"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Грузоподъемность (макс.), кг:"}),a.jsx("span",{className:"font-medium",children:e.specifications["Грузоподъемность (макс.), кг"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Объем ковша, л:"}),a.jsx("span",{className:"font-medium",children:e.specifications["Объем ковша, л"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Двигатель:"}),a.jsx("span",{className:"font-medium",children:e.engine_specifications["Тип питания двигателя"]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[e.newPrice?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"-mt-2 text-sm line-through text-gray-400",children:e.price}),a.jsx("p",{className:"-mt-4 text-xl font-bold text-orange-500",children:e.newPrice})]}):a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.price}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>n(`/catalog/${qe(e.category[0])}/${e.id}`),className:"relative overflow-hidden hover:text-black border-2 border-gray-300 hover:border-gray-400 font-medium rounded-2xl text-sm px-3 py-1.5 text-center transition-colors duration-300 cursor-pointer",children:[a.jsx("span",{className:"relative z-10",children:"Подробнее →"}),a.jsx("span",{className:"absolute top-0 left-[-75px] h-full w-[200px] rotate-[35deg] bg-gray-500 opacity-100 pointer-events-none animate-shine z-0"})]}),a.jsxs("button",{onClick:()=>t(a.jsx("a",{href:`https://wa.me/77024487217?text=${encodeURIComponent(`Здравствуйте, хочу получить предложение на ${e.name}`)}`,target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Написать в WhatsApp"})),className:" relative overflow-hidden max-sm:hidden hover:text-black border-2 hover:bg-red-500 border-red-500 hover:border-red-600 font-medium rounded-2xl text-sm px-3 py-1.5 text-center transition-colors duration-300 cursor-pointer",children:[a.jsx("span",{className:"relative z-10",children:"Получить предложение"}),a.jsx("span",{className:"absolute top-0 left-[-75px] h-full w-[200px] rotate-[35deg] bg-red-600 opacity-100 pointer-events-none animate-shine z-0"})]})]})]})]})]})};export{ot as I,Qe as R,et as T,tt as a,nt as b};
